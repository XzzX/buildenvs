FROM xzzx/devel:ubuntu

RUN wget https://apt.llvm.org/llvm.sh
RUN chmod +x llvm.sh
RUN ./llvm.sh 12
RUN apt-get install -y clang-format-12 clang-tidy=12

RUN update-alternatives --install /usr/bin/clang clang /usr/bin/clang-12 90 --slave /usr/bin/clang++ clang++ /usr/bin/clang++-12 --slave /usr/bin/clang-format clang-format /usr/bin/clang-format-12 --slave /usr/bin/clang-tidy clang-tidy /usr/bin/clang-tidy-12

RUN export CC=clang
RUN export CXX=clang++
